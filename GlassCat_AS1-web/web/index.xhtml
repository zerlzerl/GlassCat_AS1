<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Girly - Index</title>
        <meta name="author" content="Monica"></meta>
    </h:head>
    <h:body>
        <ui:include src="/common/navbar.xhtml"/>
        
        <b:container>            
            <b:jumbotron>
                <ui:include src="/common/search.xhtml"/>
            </b:jumbotron>
            <b:jumbotron>
                <b:row>
                    <h3>Guess you like</h3>
                    <b:row>
                        <ui:repeat var="item" value="#{indexController.similarityRecomandation}" varStatus="status">
                            <b:column col-md="3" col-sm="4" col-xs="12">
                                <b:thumbnail>
                                    <a target="_blank" href="#{request.contextPath}/detail.jsf?productId=#{item.id}">
                                        <b:image name="itemImg" value="https:#{item.imageUrlThumb}" />
                                        <p style="font-family: Monospaced">#{item.title.length() gt 35 ? item.title.substring(0,32).concat('...') : item.title}</p>
<!--                                        <p style="font-family: Monospaced">Mark: 
                                            <h:outputText value="#{searchController.itemMarks[status.index]}">
                                                <f:convertNumber pattern="#0.00"/>
                                            </h:outputText>
                                        </p>-->
                                    </a>
                                    <strong>US$#{item.price}</strong>
                                </b:thumbnail>
                            </b:column>
                        </ui:repeat>
                    </b:row>
                </b:row>
            </b:jumbotron>
            <b:jumbotron>
                <b:row>
                    <h3>They are buying</h3>
                    <b:row>
                        <ui:repeat var="item" value="#{indexController.collaborativeFilter}" varStatus="status">
                            <b:column col-md="3" col-sm="4" col-xs="12">
                                <b:thumbnail>
                                    <a target="_blank" href="#{request.contextPath}/detail.jsf?productId=#{item.id}">
                                        <b:image name="itemImg" value="https:#{item.imageUrlThumb}" />
                                        <p style="font-family: Monospaced">#{item.title.length() gt 35 ? item.title.substring(0,32).concat('...') : item.title}</p>
<!--                                        <p style="font-family: Monospaced">Mark: 
                                            <h:outputText value="#{searchController.itemMarks[status.index]}">
                                                <f:convertNumber pattern="#0.00"/>
                                            </h:outputText>
                                        </p>-->
                                    </a>
                                    <strong>US$#{item.price}</strong>
                                </b:thumbnail>
                            </b:column>
                        </ui:repeat>
                    </b:row>
                </b:row>
            </b:jumbotron>
        </b:container>
        <footer style="text-align: center;">
            <p>Â© Girly 2019</p>
        </footer>
    </h:body>
</html>